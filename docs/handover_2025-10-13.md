# 정화의 서재 — 인수인계서 (2025-10-13용)

## 1) 오늘 작업 요약 (A1~A5)
- A1: Primary CTA 접근성 보강
  - min-height 48px 보장, 상하 패딩 증대, 포커스 링(2px) 규칙 추가
- A2: 모바일 390 폴드 내 H1 2줄 + Primary CTA 동시 노출 보장
  - 390px대에서 히어로 상하 패딩/스테이지/캐릭터/간격 축소
- A3: 데스크톱 타이포/간격 조정
  - 1280px+: H1 56px, 타이틀→설명 간격 24px로 조정
- A4: 카피 컨테이너 폭 확장
  - `.neo-right` 최대폭 600px 확보(가독성 범위 560–640px 충족)
- A5: 브라우저 실측 및 회귀
  - 1440→1024→768→390 순서 실측, 내비·CTA·로그인/회원가입 경로 정상 확인

## 2) 변경 파일
- `app/assets/stylesheets/hero_refinement_2025.scss`
  - A1~A4 스타일 규칙 추가
  - 390px대 폴드 내 노출 보강(모바일 스케일/여백 조정)
  - 포커스 가시성 보강(:focus-visible + :focus)
- `app/views/home/heroes/_hero_e.html.erb`
  - 데스크톱 텍스트 블록 폭 인라인 지정(600px) — 최소 변경으로 즉시 반영 목적
- `app/views/home/heroes/_hero_g.html.erb`
  - 모바일 타이틀 인라인 폰트 크기 제거(스타일에서 컨트롤)

## 3) 브라우저 실측 결과(핵심만)
- 1440×900
  - H1: 56px, 타이틀→설명: 24px
  - `.neo-right`: 600px
  - Primary CTA: 64px (≥48px OK)
- 1024×900
  - `.neo-right`: 600px 유지, 위계/흐름 정상
- 768×900
  - 타이틀/CTA 가시, 레이아웃 정상
- 390×900
  - H1 2줄 + Primary CTA 폴드 내 동시 노출 확인
  - Primary CTA: 62px (≥48px OK)
- 내비/CTA/로그인·회원가입 경로: 모두 기존과 동일

## 4) 남은 이슈/주의사항(내일 우선 보완)
- 포커스 링 시각 표시
  - CSS에서 2px outline 및 보조 box-shadow를 추가했으나, 일부 환경에서 computed outline이 0으로 표기됨
  - 실제 시각 피드백이 일관되게 노출되도록 안전한 대안 필요
    - 제안: `:focus-visible`에 pseudo-element(outer ring) 방식 병행, `outline-color` 강제, UA reset 간섭 제거
- 인라인 폭 지정 제거
  - `_hero_e.html.erb`의 600px 인라인 지정은 임시 조치
  - 그리드 인라인 `grid-template-columns:3fr 2fr`와의 우선순위 충돌 해소 후 CSS만으로 관리
- 1024/768 간격 미세 조정
  - 1024에서 타이틀→설명 간격이 14px 수준 — 20px 내외로 상향 권장

## 5) 내일 작업 방향(디벨롭 + 전역 버튼 디자인 개선)
- 히어로 마무리(보완)
  1) 포커스 링 확정: pseudo-element 방식으로 시각적 링 2px 보장(+ outline-offset)
  2) 인라인 스타일 제거: `.grid-neo`의 데스크톱 컬럼 정의를 CSS로 재정의하고 인라인 속성 축소
  3) 1024/768에서 타이틀→설명 간격을 20–24px로 통일
- 전역 버튼(시각) 정리 범위
  - 대상 클래스: `.btn-neo`, `.btn-hero`, `.btn-modern`, `.btn-age`, `.service-link`, `.nav-premium-link` 등 사이트 전역 CTA/버튼
  - 토큰화
    - 높이: 기본 48–52px, 최소 탭 타깃 48px 보장
    - 반경: 12px(기본), 페이지 톤에 맞는 변형 8/16 옵션
    - 색: brand primary(#111827/또는 #5B64E3), 상태별 hover/active/disabled
    - 포커스: 항상 2px 링 시각화(접근성 우선)
  - 공통 믹스인/유틸 도입(새 SCSS 파셜 예: `buttons_refinement_2025.scss`)
  - 교차 페이지 시각 점검: 홈/검색/청소년/컬렉션/가격/내비·푸터 액션까지 일관화

## 6) 내일 작업 체크리스트(AC 포함)
- Focus Ring(전역)
  - AC: 주요 인터랙티브 요소의 키보드 포커스에 2px 링 확실히 노출(contrast ≥ 3:1)
- 히어로 그리드/폭 정리
  - AC: 1440에서 텍스트 블록 560–640px 범위, 인라인 스타일 제거 후 동일 결과 유지
- 중간 뷰포트 간격 보정
  - AC: 1024/768에서 타이틀→설명 20–24px 유지
- 버튼 시각 가이드 통합
  - AC: 사이트 전역 CTA 높이 ≥48px, hover/active/disabled/ focus 상태 정의 및 적용, 시각적 일관성 유지

## 7) 탐색/검증 루틴
- 뷰포트: 1440→1280→1024→768→390 순 실측
- 경로 회귀: 홈/전자동화책/구연동화/동화만들기/청소년, 로그인/회원가입, 히어로 CTA(`/courses`, `/teen_content`)
- 스크린샷 저장 권장: `public/generated_images/` 하위(`home-hero-*.png` 등)

## 8) 참고 파일/위치
- 스타일: `app/assets/stylesheets/hero_refinement_2025.scss`
- 히어로: `app/views/home/_main_hero_section.html.erb`, `app/views/home/heroes/_hero_e.html.erb`, `app/views/home/heroes/_hero_g.html.erb`
- 레이아웃: `app/views/layouts/application.html.erb`
- 테스트 스크립트: `test_pages.sh`

---

# 내일 시작용 원샷 프롬프트
```
역할: 정적 프론트엔드/UI 엔지니어(브라우저 실측 우선). Rails 재시작 금지.
대상: /Users/l2dogyu/KICDA/ruby/kicda-jh (정화의 서재)
레퍼런스: docs/handover_2025-10-13.md (인수인계서) 및 기존 QA 측정표

목표(오늘 보완 → 전역 버튼 시각 개선):
1) 히어로 보완: 포커스 링 확정, 인라인 폭 제거, 1024/768 간격 20–24px 통일
2) 전역 버튼 시각 정리: 높이≥48px, 반경 12px, 상태(h/a/d/focus) 통일, 전 페이지 적용

제약:
- 디자인 톤 유지(온화/동화/무광), 큰 구조 변경 금지
- 서버 재시작 금지, CSS 우선, 최소 변경 원칙

세부 작업:
- Focus Ring: pseudo-element 기반 2px 링 구현(:focus-visible), contrast≥3:1
- 그리드/폭: `.grid-neo` CSS 재정의로 1440 텍스트 블록 560–640px 확보, 인라인 제거
- 간격: 1024/768 타이틀→설명 20–24px로 보정
- 버튼: `.btn-neo/.btn-hero/.btn-modern/.btn-age/.service-link/.nav-premium-link` 통합 토큰 적용

검수(브라우저 실측): 1440→1024→768→390
- 1440: H1 56px, 타이틀→설명 20–24px, 텍스트 블록 560–640px
- 390: H1 2줄 + Primary CTA 폴드 내, CTA≥48px, 키보드 포커스 링 시각 확인
- 전역: CTA/내비/로그인·회원가입 경로 동일
```
